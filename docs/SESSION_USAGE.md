# üì± –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö Session —Ñ–∞–π–ª–æ–≤

## ‚úÖ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–°–∏—Å—Ç–µ–º–∞ —Ç–µ–ø–µ—Ä—å **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ session —Ñ–∞–π–ª—ã** –≤–º–µ—Å—Ç–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–æ–≤—ã—Ö –∫–æ–¥–æ–≤!

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ session

–ö–æ–≥–¥–∞ –≤—ã –≤—ã–∑—ã–≤–∞–µ—Ç–µ `/api/v1/sessions/get-code`:

1. **–°–ù–ê–ß–ê–õ–ê** —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ session —Ñ–∞–π–ª—ã:
   - –ò—â–µ—Ç `{phone}.json` –≤ –ø–∞–ø–∫–µ `local-storage/sessions/{phone}/`
   - –ò—â–µ—Ç `{phone}.session` –≤ –ø–∞–ø–∫–µ `local-storage/sessions/{phone}/`
   
2. **–ï—Å–ª–∏ session –Ω–∞–π–¥–µ–Ω –∏ –≤–∞–ª–∏–¥–µ–Ω:**
   - ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π session
   - ‚úÖ **–ù–ï –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥**
   - ‚úÖ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç—É—Å `session_exists`
   
3. **–ï—Å–ª–∏ session –Ω–µ –Ω–∞–π–¥–µ–Ω:**
   - –¢–æ–ª—å–∫–æ —Ç–æ–≥–¥–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥ —á–µ—Ä–µ–∑ API

## üìÅ –§–æ—Ä–º–∞—Ç session —Ñ–∞–π–ª–æ–≤

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã:

#### 1. Telethon JSON —Ñ–æ—Ä–º–∞—Ç:
```json
{
  "account_id": "12345",
  "phone_number": "+79001234567",
  "session_string": "1BVtsOMwBu5...",
  "api_id": "12345",
  "api_hash": "abcdef..."
}
```

#### 2. Telethon .session —Ñ–∞–π–ª:
- –§–∞–π–ª: `{phone}.session`
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç Telethon

## üîç –ì–¥–µ –∏—â—É—Ç—Å—è session —Ñ–∞–π–ª—ã

–°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç session —Ñ–∞–π–ª—ã –≤:
```
local-storage/sessions/
‚îú‚îÄ‚îÄ {phone}/
‚îÇ   ‚îú‚îÄ‚îÄ {phone}.json      ‚Üê –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–º
‚îÇ   ‚îî‚îÄ‚îÄ {phone}.session   ‚Üê –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤—Ç–æ—Ä—ã–º
```

–ü—Ä–∏–º–µ—Ä:
```
local-storage/sessions/
‚îú‚îÄ‚îÄ 573025288905/
‚îÇ   ‚îú‚îÄ‚îÄ 573025288905.json
‚îÇ   ‚îî‚îÄ‚îÄ 573025288905.session
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: Session —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

**–ó–∞–ø—Ä–æ—Å:**
```bash
POST /api/v1/sessions/get-code
{
  "phone_number": "+573025288905"
}
```

**–û—Ç–≤–µ—Ç (–µ—Å–ª–∏ session –Ω–∞–π–¥–µ–Ω):**
```json
{
  "status": "session_exists",
  "phone_number": "+573025288905",
  "account_id": "8312419180",
  "message": "‚úÖ –ù–∞–π–¥–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π session! –ê–∫–∫–∞—É–Ω—Ç —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –∫–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.",
  "session_file": "local-storage/sessions/573025288905/573025288905.json"
}
```

**–û—Ç–≤–µ—Ç (–µ—Å–ª–∏ session –Ω–µ –Ω–∞–π–¥–µ–Ω):**
```json
{
  "status": "code_sent",
  "phone_number": "+573025288905",
  "phone_code_hash": "abc123...",
  "message": "–ö–æ–¥ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω –Ω–∞ +573025288905. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram –∏ –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥."
}
```

### –ü—Ä–∏–º–µ—Ä 2: –ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8001/sessions
2. –ù–∞–∂–º–∏—Ç–µ "–ü–æ–ª—É—á–∏—Ç—å –∫–æ–¥"
3. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞
4. **–ï—Å–ª–∏ session —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
   - ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–æ–∫–∞–∂–µ—Ç: "–ù–∞–π–¥–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π session! –ö–æ–¥ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è"
   - ‚úÖ Session –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
5. **–ï—Å–ª–∏ session –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç:**
   - üì± –°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç –∫–æ–¥
   - –í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ Telegram

## üõ†Ô∏è –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ `json.JSONDecodeError`
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ JSON —Ñ–∞–π–ª—ã
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ JSON

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö session
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç session **–ü–ï–†–ï–î** –∑–∞–ø—Ä–æ—Å–æ–º –∫–æ–¥–∞
- ‚úÖ –ï—Å–ª–∏ session –Ω–∞–π–¥–µ–Ω - –∫–æ–¥ **–ù–ï –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç—Å—è**
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ `.json`, —Ç–∞–∫ –∏ `.session` —Ñ–∞–π–ª–æ–≤

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ `get_sessions()`
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ `get_groups()`
- ‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `‚ö†Ô∏è`

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ session —Ñ–∞–π–ª—ã:**
   - –ü—Ä–æ—Å—Ç–æ –ø–æ–ª–æ–∂–∏—Ç–µ `.json` –∏–ª–∏ `.session` —Ñ–∞–π–ª—ã –≤ `local-storage/sessions/{phone}/`
   - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Ö –Ω–∞–π–¥–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç

2. **–§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–æ–≤:**
   - –ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ: Telethon —Ñ–æ—Ä–º–∞—Ç —Å `session_string`
   - –¢–∞–∫–∂–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è: —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ `.session` —Ñ–∞–π–ª—ã

3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ session:**
   - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å session
   - –ï—Å–ª–∏ session –Ω–µ–≤–∞–ª–∏–¥–µ–Ω - –∑–∞–ø—Ä–æ—Å–∏—Ç –Ω–æ–≤—ã–π –∫–æ–¥

## ‚úÖ –ò—Ç–æ–≥

**–¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞:**
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ session —Ñ–∞–π–ª—ã
- ‚úÖ –ù–µ –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∫–æ–¥, –µ—Å–ª–∏ session —É–∂–µ –µ—Å—Ç—å
- ‚úÖ –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ JSON
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã session —Ñ–∞–π–ª–æ–≤

**–ü—Ä–æ—Å—Ç–æ –ø–æ–ª–æ–∂–∏—Ç–µ session —Ñ–∞–π–ª—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ø–∞–ø–∫—É - —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –∏—Ö –Ω–∞–π–¥–µ—Ç –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç!**



